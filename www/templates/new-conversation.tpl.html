<ion-view view-title="Nouvelle conversation" cache-view="false">

  <ion-content ng-init="initModel()">

    <div class="list card">
      <label class="item item-input">
        <input ng-model="name" type="text" name="name" placeholder="Nom" class="item"/>
      </label>

      <label class="item item-input">
        <input ng-model="description" type="text" name="description" placeholder="Description" class="item"/>
      </label>

      <ion-toggle  ng-model="newConversation.private">
        Privée
      </ion-toggle>
    </div>

    <div class="list card" ng-if="newConversation.private === true">
      <ion-checkbox ng-repeat="contact in contacts | orderBy:'firstName'" ng-if="contact._id !== user._id" ng-model="contact.checked">
        {{contact.firstName}} {{contact.lastName}}
      </ion-checkbox>
    </div>

    <div class="text-center">
      <button ng-click="createConversation(name, description,contacts)" class="button button-block button-stable">
        Créer
      </button>
    </div>

  </ion-content>

</ion-view>
